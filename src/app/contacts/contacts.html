<!--
<div class="container" id="white">
  <div class="extra-space"></div>
  <div class="col-lg-5">
    <div class="card" id="contact-card">
      <img class="card-img-top" src="/assets/images/contact.png" alt="contact">
      <div class="card-body">
        <h3 class="card-title">AskMe!</h3>
        <p style="text-align: center" class="card-text">Follow my channels or write me something.</p>
      </div>
      <ul class="list-group list-group-flush">
        <br>
        <button type="button" class="btn btn-outline-warning" onclick="window.open('https://soundcloud.com/emilio-parodi')"><i class="fa fa-soundcloud"></i> Soundcloud</button>
        <br>
        <button type="button" class="btn btn-outline-danger" onclick="window.open('https://www.youtube.com/channel/UCremB0--5EmiVciKjc50ybQ')"><i class="fa fa-youtube-play"></i> YouTube</button>
        <br>
        <button type="button" class="btn btn-outline-primary" onclick="window.open('https://www.facebook.com/emilioparodigarcia')"><i class="fa fa-facebook"></i> Facebook</button>
      </ul>
      <div class="card-body">
        <div class="row justify-content-md-center">
          <div class="col-md-auto">
            <a href="mailto:emilioparodi@icloud.com"><button type="button" class="btn btn-outline-success"><i class="fa fa-envelope-o"></i> e - Mail</button></a>
          </div>
          <div class="col-md-auto">
            <button type="button" class="btn btn-outline-info" onclick="window.open('https://t.me/SunJammer')"><i class="fa fa-telegram"></i> Telegram</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="contact-container">
  <h2>Contattami</h2>
  <form [formGroup]="contactForm" action="https://formspree.io/f/xovkqgkd" method="POST">

    <div class="form-group">
      <label for="name">Nome:</label>
      <input type="text" id="name" formControlName="name">
      <div *ngIf="contactForm.get('name')?.invalid && (contactForm.get('name')?.touched || isSubmitted)" class="error-message">
        Il nome è obbligatorio.
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" formControlName="email">
      <div *ngIf="contactForm.get('email')?.invalid && (contactForm.get('email')?.touched || isSubmitted)" class="error-message">
        <span *ngIf="contactForm.get('email')?.errors?.['required']">L'email è obbligatoria.</span>
        <span *ngIf="contactForm.get('email')?.errors?.['email']">Inserisci un'email valida.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="message">Messaggio:</label>
      <textarea id="message" formControlName="message" rows="5"></textarea>
      <div *ngIf="contactForm.get('message')?.invalid && (contactForm.get('message')?.touched || isSubmitted)" class="error-message">
        Il messaggio è obbligatorio.
      </div>
    </div>

    <div class="form-group privacy-group">
      <input type="checkbox" id="privacy" formControlName="privacy">
      <label for="privacy" class="privacy-label">Accetto i termini e l'informativa sulla privacy.</label>
      <div *ngIf="contactForm.get('privacy')?.invalid && (contactForm.get('privacy')?.touched || isSubmitted)" class="error-message">
        Devi accettare la privacy.
      </div>
    </div>

    <div class="form-group captcha-group">
      <label for="captcha">Risolvi il captcha:</label>
      <p class="captcha-question">{{ captchaSolution }}</p>
      <input type="text" id="captcha" formControlName="captcha">
      <div *ngIf="contactForm.get('captcha')?.invalid && (contactForm.get('captcha')?.touched || isSubmitted)" class="error-message">
        La risposta non è corretta.
      </div>
    </div>

    <button type="submit" [disabled]="!contactForm.valid">Invia</button>
  </form>
</div>
-->
<!-- modify this form HTML and place wherever you want your form -->
<!--
<form
  action="https://formspree.io/f/xovkqgkd"
  method="POST"
-->
<!--
  <label>
    Your email:
    <input type="email" name="email">
  </label>
  <label>
    Your message:
    <textarea name="message"></textarea>
  </label>
-->
  <!-- your other form fields go here -->
   <!--
  <button type="submit">Send</button>
</form>
-->

<div class="container" id="white">
  <div class="extra-space"></div>
<section class="contact-form">

    <div *ngIf="formStatus === 'success'" class="alert success-message">
        Grazie! Il tuo messaggio è stato inviato con successo.
    </div>

    <div *ngIf="formStatus === 'error'" class="alert error-message">
        Si è verificato un errore durante l'invio. Riprova più tardi.
    </div>

    <form
        id="contactForm"
        action="https://formspree.io/f/xovkqgkd"
        method="POST"
        (submit)="validateForm($event)"
        *ngIf="formStatus !== 'success' && formStatus !== 'sending'"
    >

        <div class="form-group">
            <label for="name">Nome completo</label>
            <input type="text" id="name" name="name" required>
        </div>

        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="_replyto" required>
        </div>

        <div class="form-group">
            <label for="message">Messaggio</label>
            <textarea id="message" name="message" rows="5" required></textarea>
        </div>

        <div class="form-group captcha-group">
            <label for="captchaInput">{{ captchaQuestion }}</label>
            <input type="number" id="captchaInput" name="captcha" required>
        </div>

        <div class="form-group checkbox-group">
            <input type="checkbox" id="privacyCheck" name="privacy" required>
            <label for="privacyCheck">Accetto l'informativa sulla privacy.</label>
        </div>

        <div id="error-message" class="alert local-error-message" style="display:none;">
            Per favore, compila tutti i campi, accetta la privacy e risolvi il CAPTCHA.
        </div>

        <button
        type="submit"
        [disabled]="formStatus !== 'idle' && formStatus !== 'error'"
        class="submit-button"
        >
        Invia Messaggio
        </button>

    </form>

    <div *ngIf="formStatus === 'sending'" class="loading-message">
        Invio in corso... attendere prego.
    </div>

</section>
</div>
